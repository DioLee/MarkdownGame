# 科兴大冒险

欢迎来到**科兴大冒险**，这是一个**文字冒险游戏**，你通过输入**动作**或**指令**来推进剧情、获取帮助。这个游戏讲述的是发生在科兴科学园的深夜加班故事，也许你就是这个故事的见证者，见证无数互联网人的苦乐悲欢。希望这个游戏能为加班一族带来些许快乐。

游戏剧本完全使用`yaml`格式编写，你也可以定制自己的游戏剧情，尽情`fork`，创作更好玩的文字冒险游戏。

## 使用方法

准备一个 node.js 的运行环境，然后运行 `game_offline.js` 即可。

```bash
npm install
node game_offline.js
```

## 代码结构

```bash
├── game_offline.js  # 进行游戏
├── package.json
├── play.js     # 对局逻辑
├── save.js     # 存档逻辑
├── script.yaml # 剧本
├── script_export.js    # 剧本 yaml 转 json 的工具（可选）
└── script_loader.js    # 加载 yaml 剧本的工具（默认）
```

## 游戏机制

游戏机制基于舞台、章节、选择、行为和动态条件。

舞台是由章节组成的，每节都有剧情描述和几种选择，引擎会把用户输入的指令进行关键词匹配，来命中一种选择。这种选择会有对应的行为，行为包括：

- 章节跳转
- 变量增减
- 流程控制

除了显示声明章节跳转，还可以编写动态条件。动态条件的表达式通常跟变量有关，比如 `fubao > 5`，每当触发变量增减的行为后，引擎就会检查动态条件，如果`fubao(福报)`值满足条件，就会触发该动态条件所对应的行为，该行为依然可以是章节跳转、变量增减、流程控制等。

文字冒险游戏的精髓，就在于让用户对千差万别的输入文字给出的不同效果感到惊奇，通过作出开放式的选择，来推进剧情。就像 Sheldon 所说：

> 文字冒险游戏使用了世界上最强大的 GPU：想象力。

